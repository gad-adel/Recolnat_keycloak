import{jsxs as X,Fragment as Y,jsx as q}from"react/jsx-runtime";import*as e from"react";import{Children as z,isValidElement as J,cloneElement as N}from"react";import{_ as C,E as K,B as O,n as Q,l as h,c8 as V,cB as S,aM as Z,cY as ee,aG as te,C as ae,cX as ie,F as oe,b1 as ne,b0 as se}from"./index-sihFV1NS.js";import{C as le}from"./copy-icon-WaWzxYgU.js";import{a as re,F as pe,A as ce}from"./Form-bfj-xQZn.js";const m={button:"pf-c-button",clipboardCopy:"pf-c-clipboard-copy",clipboardCopyActions:"pf-c-clipboard-copy__actions",clipboardCopyActionsItem:"pf-c-clipboard-copy__actions-item",clipboardCopyExpandableContent:"pf-c-clipboard-copy__expandable-content",clipboardCopyGroup:"pf-c-clipboard-copy__group",clipboardCopyText:"pf-c-clipboard-copy__text",clipboardCopyToggleIcon:"pf-c-clipboard-copy__toggle-icon",modifiers:{expanded:"pf-m-expanded",inline:"pf-m-inline",block:"pf-m-block",code:"pf-m-code"},themeDark:"pf-theme-dark"},T=i=>{var{onClick:o,exitDelay:t=0,entryDelay:n=300,maxWidth:s="100px",position:l="top","aria-label":r="Copyable input",id:p,textId:d,children:b,variant:x="control",onTooltipHidden:a=()=>{},removeFindDomNode:u=!1}=i,y=C(i,["onClick","exitDelay","entryDelay","maxWidth","position","aria-label","id","textId","children","variant","onTooltipHidden","removeFindDomNode"]);return e.createElement(K,{trigger:"mouseenter focus click",exitDelay:t,entryDelay:n,maxWidth:s,position:l,"aria-live":"polite",aria:"none",content:e.createElement("div",null,b),onTooltipHidden:a,removeFindDomNode:u},e.createElement(O,Object.assign({type:"button",variant:x,onClick:o,"aria-label":r,id:p,"aria-labelledby":`${p} ${d}`},y),e.createElement(le,null)))};T.displayName="ClipboardCopyButton";const G=i=>{var{onClick:o,id:t,textId:n,contentId:s,isExpanded:l=!1}=i,r=C(i,["onClick","id","textId","contentId","isExpanded"]);return e.createElement(O,Object.assign({type:"button",variant:"control",onClick:o,id:t,"aria-labelledby":`${t} ${n}`,"aria-controls":`${t} ${s}`,"aria-expanded":l},r),l?e.createElement(re,{"aria-hidden":"true"}):e.createElement(Q,{"aria-hidden":"true"}))};G.displayName="ClipboardCopyToggle";class A extends e.Component{constructor(o){super(o)}render(){const o=this.props,{className:t,children:n,onChange:s,isReadOnly:l,isCode:r}=o,p=C(o,["className","children","onChange","isReadOnly","isCode"]);return e.createElement("div",Object.assign({suppressContentEditableWarning:!0,className:h(m.clipboardCopyExpandableContent,t),onInput:d=>s(d.target.innerText,d),contentEditable:!l},p),r?e.createElement("pre",null,n):n)}}A.displayName="ClipboardCopyExpanded";A.defaultProps={onChange:()=>{},className:"",isReadOnly:!1,isCode:!1};const de=(i,o)=>{navigator.clipboard.writeText(o.toString())};var _;(function(i){i.inline="inline",i.expansion="expansion",i.inlineCompact="inline-compact"})(_||(_={}));class f extends e.Component{constructor(o){super(o),this.timer=null,this.componentDidUpdate=(t,n)=>{t.children!==this.props.children&&this.updateText(this.props.children)},this.componentWillUnmount=()=>{this.timer&&window.clearTimeout(this.timer)},this.expandContent=t=>{this.setState(n=>({expanded:!n.expanded}))},this.updateText=t=>{this.setState({text:t}),this.props.onChange(t)},this.render=()=>{const t=this.props,{isExpanded:n,onChange:s,switchDelay:l,isReadOnly:r,isCode:p,isBlock:d,exitDelay:b,maxWidth:x,entryDelay:a,onCopy:u,hoverTip:y,clickTip:g,textAriaLabel:E,toggleAriaLabel:w,variant:v,position:$,className:W,additionalActions:F,ouiaId:B,ouiaSafe:L,removeFindDomNode:P}=t,H=C(t,["isExpanded","onChange","switchDelay","isReadOnly","isCode","isBlock","exitDelay","maxWidth","entryDelay","onCopy","hoverTip","clickTip","textAriaLabel","toggleAriaLabel","variant","position","className","additionalActions","ouiaId","ouiaSafe","removeFindDomNode"]),D="text-input-",U="toggle-",M="content-";return e.createElement("div",Object.assign({className:h(m.clipboardCopy,v==="inline-compact"&&m.modifiers.inline,d&&m.modifiers.block,this.state.expanded&&m.modifiers.expanded,W)},H,V(f.displayName,B,L)),v==="inline-compact"&&e.createElement(S,{prefix:""},c=>e.createElement(e.Fragment,null,!p&&e.createElement("span",{className:h(m.clipboardCopyText),id:`${D}${c}`},this.state.text),p&&e.createElement("code",{className:h(m.clipboardCopyText,m.modifiers.code),id:`${D}${c}`},this.state.text),e.createElement("span",{className:h(m.clipboardCopyActions)},e.createElement("span",{className:h(m.clipboardCopyActionsItem)},e.createElement(T,{variant:"plain",exitDelay:b,entryDelay:a,maxWidth:x,position:$,id:`copy-button-${c}`,textId:`text-input-${c}`,"aria-label":y,onClick:I=>{u(I,this.state.text),this.setState({copied:!0})},onTooltipHidden:()=>this.setState({copied:!1})},this.state.copied?g:y)),F&&F))),v!=="inline-compact"&&e.createElement(S,{prefix:""},c=>e.createElement(e.Fragment,null,e.createElement("div",{className:h(m.clipboardCopyGroup)},v==="expansion"&&e.createElement(G,{isExpanded:this.state.expanded,onClick:this.expandContent,id:`${U}${c}`,textId:`${D}${c}`,contentId:`${M}${c}`,"aria-label":w}),e.createElement(Z,{isReadOnly:r||this.state.expanded,onChange:this.updateText,value:this.state.text,id:`text-input-${c}`,"aria-label":E}),e.createElement(T,{exitDelay:b,entryDelay:a,maxWidth:x,position:$,id:`copy-button-${c}`,textId:`text-input-${c}`,"aria-label":y,onClick:I=>{u(I,this.state.text),this.setState({copied:!0})},onTooltipHidden:()=>this.setState({copied:!1}),removeFindDomNode:P},this.state.copied?g:y)),this.state.expanded&&e.createElement(A,{isReadOnly:r,isCode:p,id:`content-${c}`,onChange:this.updateText},this.state.text))))},this.state={text:Array.isArray(this.props.children)?this.props.children.join(""):this.props.children,expanded:this.props.isExpanded,copied:!1},this.props.switchDelay!==void 0&&console.warn("ClipboardCopy: switchDelay prop has been deprecated. The tooltip message will switch back to the hover tip as soon as the tooltip is hidden.")}}f.displayName="ClipboardCopy";f.defaultProps={hoverTip:"Copy to clipboard",clickTip:"Successfully copied to clipboard!",isReadOnly:!1,isExpanded:!1,isCode:!1,variant:"inline",position:ee.top,maxWidth:"150px",exitDelay:1500,entryDelay:300,onCopy:de,onChange:()=>{},textAriaLabel:"Copyable input",toggleAriaLabel:"Show content",additionalActions:null,ouiaSafe:!0,removeFindDomNode:!1};const k={modifiers:{fill:"pf-m-fill",gutter:"pf-m-gutter"},stack:"pf-l-stack",stackItem:"pf-l-stack__item"},R=i=>{var{hasGutter:o=!1,className:t="",children:n=null,component:s="div"}=i,l=C(i,["hasGutter","className","children","component"]);const r=s;return e.createElement(r,Object.assign({},l,{className:h(k.stack,o&&k.modifiers.gutter,t)}),n)};R.displayName="Stack";const j=i=>{var{isFilled:o=!1,className:t="",children:n=null}=i,s=C(i,["isFilled","className","children"]);return e.createElement("div",Object.assign({},s,{className:h(k.stackItem,o&&k.modifiers.fill,t)}),n)};j.displayName="StackItem";const be=({children:i,role:o,fineGrainedAccess:t=!1,isReadOnly:n=!1,unWrap:s=!1,...l})=>{const{hasAccess:r}=te(),p=(b,x)=>z.map(b,a=>{if(!J(a))return a;if(a.props){const u=a;if(a.type===ae)return N(a,{...u.props,render:g=>{const E=u.props.render(g);return N(E,{...E.props,...x})}});const y=p(u.props.children,x);return a.type===ie?N(a,{readOnly:x.isDisabled,children:y}):N(a,a.type===oe||a.type===ne||a.type===se||a.type===ce||a.type===f||a.type===R||a.type===j?{children:y}:{...x,children:y})}return a}),d=n||!r(o)&&!t;return X(Y,{children:[!s&&q(pe,{...l,className:"keycloak__form "+(l.className||""),children:p(i,d?{isDisabled:d}:{})}),s&&p(i,d?{isDisabled:d}:{})]})};export{T as C,be as F,R as S,j as a,f as b};
//# sourceMappingURL=FormAccess-EK-4wbwg.js.map
