import{jsx as n,jsxs as p}from"react/jsx-runtime";import{useMemo as A,useEffect as j,Fragment as B}from"react";import{u as T,a as F,Z as $,Y as D,aM as E,B as m,m as f,a3 as G,a6 as L}from"./index-sihFV1NS.js";function g(e){return typeof e=="string"?e.split("##"):[]}function P(e){return e.join("##")}const Z=({name:e,addButtonLabel:v,isDisabled:l=!1,defaultValue:o,stringify:i=!1,id:I,...M})=>{const{t:u}=T(),{register:h,setValue:C,control:V}=F(),s=$({name:e,control:V,defaultValue:o||""}),r=A(()=>{let t=i?g(Array.isArray(s)&&s.length===1?s[0]:s):s;return t=Array.isArray(t)&&t.length!==0?t:(i?g(o):o)||[""],t},[s]),b=t=>{c([...r.slice(0,t),...r.slice(t+1)])},k=()=>{c([...r,""])},y=(t,a)=>{c([...r.slice(0,t),a,...r.slice(t+1)])},c=t=>{const a=t.flatMap(d=>d);C(e,i?P(a):a,{shouldDirty:!0})};return j(()=>{h(e)},[h]),n("div",{id:I,children:r.map((t,a)=>p(B,{children:[p(D,{children:[n(E,{"data-testid":e+a,onChange:d=>y(a,d),name:`${e}.${a}.value`,value:t,isDisabled:l,...M}),n(m,{"data-testid":"remove"+a,variant:f.link,onClick:()=>b(a),tabIndex:-1,"aria-label":u("remove"),isDisabled:r.length===1||l,children:n(G,{})})]}),a===r.length-1&&p(m,{variant:f.link,onClick:k,tabIndex:-1,"aria-label":u("add"),"data-testid":"addValue",isDisabled:!t||l,children:[n(L,{})," ",u(v||"add")]})]},a))})};export{Z as M};
//# sourceMappingURL=MultiLineInput-MBnUzZD_.js.map
