import{jsx as o,jsxs as h,Fragment as g}from"react/jsx-runtime";import{useState as f}from"react";import{u as y,f as w,S,A as k,I as C,J as D,c as _,K as b}from"./index-sihFV1NS.js";import{g as A,c as F,d as O,b as $,A as T}from"./ClientScopeTypes-Hwl8E8GJ.js";import{F as x}from"./filter-icon-0B3gA_nj.js";import{b as m}from"./ToolbarContent-46I9Yg7h.js";const K=({clientId:e,selectedRows:n,refresh:d})=>{const{t}=y(),[r,i]=f(!1),{addAlert:s,addError:p}=w();return o(S,{toggleId:"change-type-dropdown","aria-label":"change-type-to",isOpen:r,selections:[],isDisabled:n.length===0,placeholderText:t("changeTypeTo"),onToggle:i,onSelect:async(l,a)=>{try{await Promise.all(n.map(c=>e?A(e,c,c.type,a):F(c,a))),i(!1),d(),s(t("clientScopeSuccess"),k.success)}catch(c){p("clientScopeError",c)}},children:O(t,e?void 0:$)})},I=["all","saml","openid-connect"],L=(e="")=>n=>n.name?.includes(e),V=e=>n=>e===T.none||n.type===e,q=e=>n=>e==="all"||n.protocol===e,u=({searchType:e,withProtocol:n=!1,onSelect:d})=>{const{t}=y(),[r,i]=f(!1),s=l=>o(b,{onClick:()=>{d(l),i(!1)},children:t(`clientScopeSearch.${l}`)},l),p=[s("name"),s("type")];return n&&p.push(s("protocol")),o(C,{className:"keycloak__client-scopes__searchtype",toggle:h(D,{id:"toggle-id",onToggle:i,children:[o(x,{})," ",t(`clientScopeSearch.${e}`)]}),isOpen:r,dropdownItems:p})},z=({searchType:e,onSelect:n,type:d,onType:t,protocol:r,onProtocol:i})=>{const{t:s}=y(),[p,l]=f(!1);return h(g,{children:[e==="type"&&h(g,{children:[o(m,{children:o(u,{searchType:e,onSelect:n,withProtocol:!!r})}),o(m,{children:h(S,{className:"keycloak__client-scopes__searchtype",onToggle:l,isOpen:p,selections:[d===T.none?s("allTypes"):s(`clientScopeTypes.${d}`)],onSelect:(a,c)=>{t(c),l(!1)},children:[o(_,{value:T.none,children:s("allTypes")}),o(g,{children:O(s)})]})})]}),e==="protocol"&&!!r&&h(g,{children:[o(m,{children:o(u,{searchType:e,onSelect:n,withProtocol:!0})}),o(m,{children:o(S,{className:"keycloak__client-scopes__searchtype",onToggle:l,isOpen:p,selections:[s(`protocolTypes.${r}`)],onSelect:(a,c)=>{i?.(c),l(!1)},children:I.map(a=>o(_,{value:a,children:s(`protocolTypes.${a}`)},a))})})]})]})};export{K as C,u as S,z as a,L as n,q as p,V as t};
//# sourceMappingURL=SearchFilter-geHnFeJ7.js.map
