import{jsx as t,jsxs as L,Fragment as G}from"react/jsx-runtime";import{u as I,a as T,F as v,i as b,C as x,Q as K,Y as D,$ as _,a0 as P,B as V,S as q,b as j,c as B,c_ as R,aM as F,a3 as J,a6 as U,a1 as Q,a2 as N,ao as W}from"./index-sihFV1NS.js";import{C as Y}from"./ClientSelect-sh5SEoBO.js";import{useState as $,useEffect as z}from"react";import{F as H}from"./FileUpload-LIezXv7x.js";import{G as X}from"./GroupPickerDialog-gC2-xBPw.js";import{A as Z,a as ee}from"./ActionListItem-1jrwMZdM.js";import{F as M}from"./Flex-W2FoLD7u.js";import{F as y}from"./FlexItem-Mxf6oLng.js";import{M as te}from"./MultiLineInput-MBnUzZD_.js";import{P as le}from"./PasswordInput-P6txGPqu.js";import{u as oe}from"./useToggle-mZS4AEtR.js";import{A as ne,S as ae}from"./AddRoleMappingModal-uxjjMt5W.js";import{C as re,L as se}from"./CodeEditor-7uqvO0EK.js";import{K as ie}from"./KeycloakTextInput--S1SG2UN.js";import{K as de}from"./KeycloakTextArea-NBwG1p2x.js";const ce=({name:e,label:l,helpText:i,isDisabled:s=!1,defaultValue:n,isNew:d=!0})=>{const{t:o}=I(),{control:r}=T();return t(v,{hasNoPaddingTop:!0,label:o(l),fieldId:e,labelIcon:t(b,{helpText:o(i),fieldLabelId:`${l}`}),children:t(x,{name:C(e),"data-testid":e,defaultValue:d?n:!1,control:r,render:({field:a})=>t(K,{id:e,isDisabled:s,label:o("on"),labelOff:o("off"),isChecked:a.value==="true"||a.value===!0||a.value?.[0]==="true",onChange:m=>a.onChange(""+m),"data-testid":e,"aria-label":o(l)})})})},ue=e=>t(Y,{...e,name:C(e.name)}),pe=({name:e,label:l,helpText:i,defaultValue:s,isDisabled:n=!1})=>{const{t:d}=I(),{control:o}=T(),[r,a]=$(""),[m,p]=$(!1);return t(v,{label:d(l),labelIcon:t(b,{helpText:d(i),fieldLabelId:`${l}`}),fieldId:e,children:t(x,{name:C(e),control:o,defaultValue:s||"",render:({field:f})=>t(H,{id:e,value:f.value,type:"text",filename:r,isDisabled:n,onFileInputChange:(h,g)=>a(g.name),onReadStarted:()=>p(!0),onReadFinished:()=>p(!1),onClearClick:()=>{f.onChange(""),a("")},isLoading:m,allowEditingUploadedText:!1,onChange:(h,g)=>{f.onChange(h),a(g)}})})})},he=({name:e,label:l,helpText:i,required:s})=>{const{t:n}=I(),[d,o]=$(!1),[r,a]=$(),{control:m}=T();return t(x,{name:C(e),defaultValue:"",control:m,render:({field:p})=>L(G,{children:[d&&t(X,{type:"selectOne",text:{title:"selectGroup",ok:"select"},onConfirm:f=>{p.onChange(f?.[0].path),a(f),o(!1)},onClose:()=>o(!1),filterGroups:r}),t(v,{label:n(l),labelIcon:t(b,{helpText:n(i),fieldLabelId:`${l}`}),fieldId:e,isRequired:s,children:L(D,{children:[t(_,{children:p.value&&t(P,{onClick:()=>p.onChange(void 0),children:p.value})}),t(V,{id:"kc-join-groups-button",onClick:()=>o(!d),variant:"secondary","data-testid":"join-groups-button",children:n("selectGroup")})]})})]})})},fe=({name:e,label:l,helpText:i,defaultValue:s,options:n,required:d,isDisabled:o=!1})=>{const{t:r}=I(),{control:a}=T(),[m,p]=$(!1);return t(v,{label:r(l),labelIcon:t(b,{helpText:r(i),fieldLabelId:`${l}`}),fieldId:e,isRequired:d,children:t(x,{name:C(e),"data-testid":e,defaultValue:s||n?.[0]||"",control:a,render:({field:f})=>t(q,{toggleId:e,isDisabled:o,onToggle:h=>p(h),onSelect:(h,g)=>{f.onChange(g),p(!1)},selections:f.value,variant:j.single,"aria-label":r(l),isOpen:m,children:n?.map(h=>t(B,{selected:h===f.value,value:h},h))})})})},ge=({name:e,label:l,helpText:i,required:s})=>{const{t:n}=I(),{getValues:d,setValue:o,register:r}=T(),[a,m]=$([]),p=C(e);z(()=>{r(p);const c=JSON.parse(d(p)||"[]");c.length||c.push({key:"",value:""}),m(c.map(u=>({...u,id:R()})))},[r,d]);const f=(c=a)=>{o(p,JSON.stringify(c.map(({id:u,...S})=>S)))},h=(c,u)=>{w(c,{...a[c],key:u})},g=(c,u)=>{w(c,{...a[c],value:u})},w=(c,u)=>m([...a.slice(0,c),u,...a.slice(c+1)]),k=c=>{const u=[...a.slice(0,c),...a.slice(c+1)];m(u),f(u)};return L(v,{label:n(l),labelIcon:t(b,{helpText:n(i),fieldLabelId:`${l}`}),fieldId:e,isRequired:s,children:[L(M,{direction:{default:"column"},children:[L(M,{children:[t(y,{grow:{default:"grow"},spacer:{default:"spacerNone"},children:t("strong",{children:n("key")})}),t(y,{grow:{default:"grow"},children:t("strong",{children:n("value")})})]}),a.map((c,u)=>L(M,{"data-testid":"row",children:[t(y,{grow:{default:"grow"},children:t(F,{name:`${p}.${u}.key`,placeholder:n("keyPlaceholder"),"aria-label":n("key"),defaultValue:c.key,"data-testid":`${p}.${u}.key`,onChange:S=>h(u,S),onBlur:()=>f()})}),t(y,{grow:{default:"grow"},spacer:{default:"spacerNone"},children:t(F,{name:`${p}.${u}.value`,placeholder:n("valuePlaceholder"),"aria-label":n("value"),defaultValue:c.value,"data-testid":`${p}.${u}.value`,onChange:S=>g(u,S),onBlur:()=>f()})}),t(y,{children:t(V,{variant:"link",title:n("removeAttribute"),isDisabled:a.length===1,onClick:()=>k(u),"data-testid":`${p}.${u}.remove`,children:t(J,{})})})]},c.id))]}),t(Z,{children:t(ee,{children:t(V,{"data-testid":`${p}-add-row`,className:"pf-u-px-0 pf-u-mt-sm",variant:"link",icon:t(U,{}),onClick:()=>m([...a,{key:"",value:"",id:R()}]),children:n("addAttribute")})})})]})};function O(e){return typeof e=="string"&&e.length>0?e.split("##"):[]}function me(e){return e.join("##")}const Ce=({name:e,label:l,helpText:i,defaultValue:s,options:n,isDisabled:d=!1,stringify:o,required:r})=>{const{t:a}=I(),{control:m}=T(),[p,f]=$(!1);return t(v,{label:a(l),labelIcon:t(b,{helpText:a(i),fieldLabelId:`${l}`}),fieldId:e,isRequired:r,children:t(x,{name:C(e),control:m,defaultValue:s?[s]:[],render:({field:h})=>t(q,{toggleId:e,"data-testid":e,isDisabled:d,chipGroupProps:{numChips:3,expandedText:a("hide"),collapsedText:a("showRemaining")},variant:j.typeaheadMulti,typeAheadAriaLabel:"Select",onToggle:g=>f(g),selections:o?O(h.value):h.value,onSelect:(g,w)=>{const k=w.toString(),c=o?O(h.value):h.value;let u;c.includes(k)?u=c.filter(S=>S!==k):u=[...c,k],h.onChange(o?me(u):u)},onClear:g=>{g.stopPropagation(),h.onChange(o?"":[])},isOpen:p,"aria-label":a(l),children:n?.map(g=>t(B,{value:g},g))})})})},Ie=({name:e,label:l,defaultValue:i,helpText:s,stringify:n,required:d,isDisabled:o=!1})=>{const{t:r}=I(),a=C(e);return t(v,{label:r(l),labelIcon:t(b,{helpText:r(s),fieldLabelId:`${l}`}),fieldId:e,isRequired:d,children:t(te,{"aria-label":r(l),name:a,isDisabled:o,defaultValue:[i],addButtonLabel:r("addMultivaluedLabel",{fieldLabel:r(l).toLowerCase()}),stringify:n})})},ve=({name:e,label:l,helpText:i,defaultValue:s,required:n,isDisabled:d=!1})=>{const{t:o}=I(),{register:r}=T();return t(v,{label:o(l),labelIcon:t(b,{helpText:o(i),fieldLabelId:`${l}`}),fieldId:e,isRequired:n,children:t(le,{id:e,"data-testid":e,isDisabled:d,defaultValue:s?.toString(),...r(C(e))})})},A=e=>e?.includes(".")?e.split("."):["",e||""],be=e=>e.client?.clientId?`${e.client.clientId}.${e.role.name}`:e.role.name,Te=({name:e,label:l,helpText:i,defaultValue:s,required:n,isDisabled:d=!1})=>{const{t:o}=I(),[r,a]=oe(),{control:m,formState:{errors:p}}=T(),f=C(e);return t(v,{label:o(l),labelIcon:t(b,{helpText:o(i),fieldLabelId:`${l}`}),validated:p[f]?"error":"default",helperTextInvalid:o("required"),fieldId:e,isRequired:n,children:t(x,{name:f,defaultValue:s||"",control:m,render:({field:h})=>L(Q,{children:[r&&t(ne,{id:"id",type:"roles",name:e,onAssign:g=>h.onChange(be(g[0])),onClose:a,isRadio:!0}),h.value!==""&&t(N,{children:t(P,{textMaxWidth:"500px",onClick:()=>h.onChange(""),children:t(ae,{role:{name:A(h.value)[1]},client:{clientId:A(h.value)[0]}})})}),t(N,{children:t(V,{onClick:a,variant:"secondary","data-testid":"add-roles",disabled:d,children:o("selectRole.label")})})]})})})},Se=({name:e,label:l,helpText:i,defaultValue:s,required:n,isDisabled:d=!1})=>{const{t:o}=I(),{control:r}=T();return t(v,{label:o(l),labelIcon:t(b,{helpText:t("span",{style:{whiteSpace:"pre-wrap"},children:i}),fieldLabelId:`${l}`}),fieldId:e,isRequired:n,children:t(x,{name:C(e),defaultValue:s,control:r,render:({field:a})=>t(re,{id:e,"data-testid":e,isReadOnly:d,type:"text",onChange:a.onChange,code:a.value,height:"600px",language:se.javascript})})})},Le=({name:e,label:l,helpText:i,defaultValue:s,isDisabled:n=!1,required:d})=>{const{t:o}=I(),{register:r}=T();return t(v,{label:o(l),labelIcon:t(b,{helpText:o(i),fieldLabelId:`${l}`}),fieldId:e,isRequired:d,children:t(ie,{id:e,"data-testid":e,isDisabled:n,defaultValue:s?.toString(),...r(C(e))})})},$e=({name:e,label:l,helpText:i,defaultValue:s,required:n,isDisabled:d=!1})=>{const{t:o}=I(),{register:r}=T();return t(v,{label:o(l),labelIcon:t(b,{helpText:o(i),fieldLabelId:`${l}`}),fieldId:e,required:n,children:t(de,{id:e,"data-testid":e,isDisabled:d,defaultValue:s?.toString(),...r(C(e))})})},E={String:Le,Text:$e,boolean:ce,List:fe,Role:Te,Script:Se,Map:ge,Group:he,ClientList:ue,MultivaluedList:Ce,MultivaluedString:Ie,File:pe,Password:ve},xe=e=>e in E,Ke=({properties:e,...l})=>t(G,{children:e.map(i=>{const s=i.type;if(xe(s)){const n=E[s];return t(n,{...i,...l},i.name)}else console.warn(`There is no editor registered for ${s}`)})}),C=e=>W(`config.${e}`);export{Ke as D};
//# sourceMappingURL=DynamicComponents-f6aNOnzT.js.map
