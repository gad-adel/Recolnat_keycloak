import{jsx as e,jsxs as i,Fragment as V}from"react/jsx-runtime";import{useState as B,useMemo as v}from"react";import{u as T,a4 as W,P as h,e as _,by as Y,ba as g,T as O,O as Q,X as Z,z as q,bz as R,b0 as H,b1 as N,x as w,aZ as I,y as L,aF as J,i as A,p as y}from"./index-sihFV1NS.js";import{u as $,m as ee}from"./useLocaleSort-K-jL4v2R.js";import{R as re,u as ie}from"./RoutableTabs-a7VqIL_I.js";import{T as ae}from"./TableToolbar-vuixsfwd.js";import{T as C,O as ne,P as x,Q as G,R as M,S as b}from"./Td-uwYquKT4.js";import{E as te}from"./ExpandableSection-JW5wd_BH.js";import{E as se,a as le}from"./EmptyStateBody-jnnI7hpP.js";import{a as j,b as U}from"./Tabs-wiayO8Tk.js";import{D as F,a as f,b as o,c as d}from"./DescriptionListTerm-sSQQqmBE.js";import{L as z,a as k,b as oe}from"./ListItem-zTOCxRJG.js";import"react-dom";import"./ToolbarContent-46I9Yg7h.js";import"./Form-bfj-xQZn.js";import"./grip-vertical-icon-accuSWkz.js";import"./plus-icon-zbmNbCLY.js";import"./MenuList-82IaVNxu.js";var m;(function(r){r.Default="DEFAULT",r.DisabledByDefault="DISABLED_BY_DEFAULT",r.Preview="PREVIEW",r.PreviewDisabledByDefault="PREVIEW_DISABLED_BY_DEFAULT",r.Experimental="EXPERIMENTAL",r.Deprecated="DEPRECATED"})(m||(m={}));const de=()=>{const{t:r}=T(),t=W(),[n,D]=B(""),[l,p]=B([]),E=v(()=>Object.entries(t.providers||[]).filter(([s])=>s.includes(n)),[n]),u=s=>{l.includes(s)?p(l.filter(c=>c!==s)):p([...l,s])};return e(h,{variant:"light",children:e(ae,{inputGroupName:"search",inputGroupPlaceholder:r("search"),inputGroupOnEnter:D,children:i(C,{variant:"compact",children:[e(ne,{children:i(x,{children:[e(G,{width:20,children:r("spi")}),e(G,{children:r("providers")})]})}),e(M,{children:E.map(([s,{providers:c}])=>i(x,{children:[e(b,{children:s}),e(b,{children:e("ul",{children:Object.entries(c).map(([a,{operationalInfo:S}])=>i("li",{children:[a,S?e(te,{isExpanded:l.includes(a),onToggle:()=>u(a),toggleText:l.includes(a)?r("showLess"):r("showMore"),children:e(C,{borders:!1,children:e(M,{children:Object.entries(S).map(([P,X])=>i(x,{children:[e(b,{children:P}),e(b,{children:X})]},P))})})},a):null]},a))})})]},s))})]})})})},ce=()=>{const{t:r}=T(),{realm:t}=_(),n=g.logo?g.logo:"/icon.svg";return e(h,{variant:"light",children:i(se,{variant:"large",children:[e(Y,{src:g.resourceUrl+n,alt:"Keycloak icon",className:"keycloak__dashboard_icon"}),e(O,{headingLevel:"h2",size:"3xl",children:r("welcome")}),e(O,{headingLevel:"h1",size:"4xl",children:t}),e(le,{children:r("introduction")})]})})},K=({feature:r})=>{const{t}=T();return i(oe,{className:"pf-u-mb-sm",children:[r.name,"Â ",r.type===m.Experimental&&e(y,{color:"orange",children:t("experimental")}),r.type===m.Preview&&e(y,{color:"blue",children:t("preview")}),r.type===m.Default&&e(y,{color:"green",children:t("supported")})]})},he=()=>{const{t:r}=T(),{realm:t}=_(),n=W(),D=$(),l=v(()=>D(n.features??[],ee("name")),[n.features]),p=v(()=>l.filter(a=>!a.enabled)||[],[n.features]),E=v(()=>l.filter(a=>a.enabled)||[],[n.features]),u=a=>ie(R({realm:t,tab:a})),s=u("info"),c=u("providers");return Object.keys(n).length===0?e(Q,{}):i(V,{children:[e(h,{variant:"light",children:e(Z,{className:"pf-u-mr-sm",children:e(q,{component:"h1",children:r("realmNameTitle",{name:t})})})}),e(h,{variant:"light",className:"pf-u-p-0",children:i(re,{"data-testid":"dashboard-tabs",defaultLocation:R({realm:t,tab:"info"}),isBox:!0,mountOnEnter:!0,children:[e(j,{id:"info","data-testid":"infoTab",title:e(U,{children:r("serverInfo")}),...s,children:e(h,{variant:"light",children:i(H,{hasGutter:!0,children:[e(N,{lg:2,sm:12,children:i(w,{className:"keycloak__dashboard_card",children:[e(I,{children:r("serverInfo")}),e(L,{children:e(F,{children:i(f,{children:[e(o,{children:r("version")}),e(d,{children:n.systemInfo?.version}),e(o,{children:r("product")}),e(d,{children:J(n.profileInfo?.name)})]})})}),e(I,{children:r("memory")}),e(L,{children:e(F,{children:i(f,{children:[e(o,{children:r("totalMemory")}),e(d,{children:n.memoryInfo?.totalFormated}),e(o,{children:r("freeMemory")}),e(d,{children:n.memoryInfo?.freeFormated}),e(o,{children:r("usedMemory")}),e(d,{children:n.memoryInfo?.usedFormated})]})})})]})}),e(N,{lg:10,sm:12,children:i(w,{className:"keycloak__dashboard_card",children:[e(I,{children:r("profile")}),e(L,{children:i(F,{children:[i(f,{children:[i(o,{children:[r("enabledFeatures")," ",e(A,{fieldLabelId:"enabledFeatures",helpText:r("infoEnabledFeatures")})]}),e(d,{children:e(z,{variant:k.inline,children:E.map(a=>e(K,{feature:a},a.name))})})]}),i(f,{children:[i(o,{children:[r("disabledFeatures")," ",e(A,{fieldLabelId:"disabledFeatures",helpText:r("infoDisabledFeatures")})]}),e(d,{children:e(z,{variant:k.inline,children:p.map(a=>e(K,{feature:a},a.name))})})]})]})})]})})]})})}),e(j,{id:"providers","data-testid":"providersTab",title:e(U,{children:r("providerInfo")}),...c,children:e(de,{})})]})})]})};function Be(){const{realm:r}=_(),t=r==="master";return i(V,{children:[!t&&e(ce,{}),t&&e(he,{})]})}export{Be as default};
//# sourceMappingURL=Dashboard-VOd5xfxX.js.map
