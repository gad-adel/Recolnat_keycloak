import{jsxs as s,Fragment as y,jsx as e}from"react/jsx-runtime";import{u as S,M as N,d as M,f as O,e as K,a as $,m as w,j as z,A as W,dr as q,C as h,K as U,T as Y,X as B,z as R,Z as j,F as p,i as f,S as T,b as D,c as i}from"./index-sihFV1NS.js";import{u as A}from"./ConfirmDialog-WMVurgkl.js";import{V as H}from"./ViewHeader-xo54NRb6.js";import{F as X}from"./FormAccess-EK-4wbwg.js";import{u as L}from"./useToggle-mZS4AEtR.js";import{i as V}from"./isEqual-guRJoAyD.js";import{N as G}from"./NumberInput-QtFengwl.js";const oe=({provider:a,save:t,noDivider:c=!1,dropdownItems:d=[]})=>{const{t:r}=S(),{id:g}=N(),x=M(),{addAlert:C,addError:_}=O(),{realm:I}=K(),{control:u,setValue:b}=$(),[m,E]=A({titleKey:"userFedDisableConfirmTitle",messageKey:"userFedDisableConfirm",continueButtonLabel:"disable",onConfirm:()=>{b("config.enabled[0]","false"),t()}}),[v,n]=A({titleKey:"userFedDeleteConfirmTitle",messageKey:"userFedDeleteConfirm",continueButtonLabel:"delete",continueButtonVariant:w.danger,onConfirm:async()=>{try{await z.components.del({id:g}),C(r("userFedDeletedSuccess"),W.success),x(q({realm:I}),{replace:!0})}catch(o){_("userFedDeleteError",o)}}});return s(y,{children:[e(E,{}),e(n,{}),e(h,{name:"config.enabled",defaultValue:["true"],control:u,render:({field:o})=>g?e(H,{divider:!c,titleKey:a,dropdownItems:[...d,e(U,{onClick:()=>v(),"data-testid":"delete-cmd",children:r("deleteProvider")},"delete")],isEnabled:o.value?.[0]==="true"||o.value==="true",onToggle:l=>{l?(o.onChange([l.toString()]),t()):m()}}):e(H,{titleKey:r("addProvider",{provider:a,count:1})})})]})},Z=({title:a,description:t,showDescription:c=!1})=>s(y,{children:[e(Y,{size:"xl",headingLevel:"h2",className:c?"kc-wizard-section-header__title--has-description":"kc-wizard-section-header__title",children:a}),c&&e(B,{className:"kc-wizard-section-header__description",children:e(R,{children:t})})]}),k=({form:a})=>{const{t}=S(),[c,d]=L(),[r,g]=L(),[x,C]=L(),[_,I]=L(),u=j({control:a.control,name:"config.cachePolicy"}),b=[e(i,{value:["0"],isPlaceholder:!0,children:["00"]},0)];let m="";for(let n=1;n<24;n++)n<10?m=`0${n}`:m=`${n}`,b.push(e(i,{value:[`${n}`],children:m},n));const E=[e(i,{value:["0"],isPlaceholder:!0,children:["00"]},0)];let v="";for(let n=1;n<60;n++)n<10?v=`0${n}`:v=`${n}`,E.push(e(i,{value:[`${n}`],children:v},n));return s(y,{children:[e(p,{label:t("cachePolicy"),labelIcon:e(f,{helpText:t("cachePolicyHelp"),fieldLabelId:"cachePolicy"}),fieldId:"kc-cache-policy",children:e(h,{name:"config.cachePolicy",defaultValue:["DEFAULT"],control:a.control,render:({field:n})=>s(T,{toggleId:"kc-cache-policy",required:!0,onToggle:d,isOpen:c,onSelect:(o,l)=>{n.onChange(l),d()},selections:n.value,variant:D.single,"data-testid":"kerberos-cache-policy",children:[e(i,{value:["DEFAULT"],isPlaceholder:!0},0),e(i,{value:["EVICT_DAILY"]},1),e(i,{value:["EVICT_WEEKLY"]},2),e(i,{value:["MAX_LIFESPAN"]},3),e(i,{value:["NO_CACHE"]},4)]})})}),V(u,["EVICT_WEEKLY"])?e(p,{label:t("evictionDay"),labelIcon:e(f,{helpText:t("evictionDayHelp"),fieldLabelId:"evictionDay"}),isRequired:!0,fieldId:"kc-eviction-day",children:e(h,{name:"config.evictionDay[0]",defaultValue:"1",control:a.control,render:({field:n})=>s(T,{"data-testid":"cache-day",toggleId:"kc-eviction-day",required:!0,onToggle:I,isOpen:_,onSelect:(o,l)=>{n.onChange(l),I()},selections:n.value,variant:D.single,children:[e(i,{value:"1",isPlaceholder:!0,children:t("Sunday")},0),e(i,{value:"2",children:t("Monday")},1),e(i,{value:"3",children:t("Tuesday")},2),e(i,{value:"4",children:t("Wednesday")},3),e(i,{value:"5",children:t("Thursday")},4),e(i,{value:"6",children:t("Friday")},5),e(i,{value:"7",children:t("Saturday")},6)]})})}):null,V(u,["EVICT_DAILY"])||V(u,["EVICT_WEEKLY"])?s(y,{children:[e(p,{label:t("evictionHour"),labelIcon:e(f,{helpText:t("evictionHourHelp"),fieldLabelId:"evictionHour"}),isRequired:!0,fieldId:"kc-eviction-hour",children:e(h,{name:"config.evictionHour",defaultValue:["0"],control:a.control,render:({field:n})=>e(T,{toggleId:"kc-eviction-hour",onToggle:g,isOpen:r,onSelect:(o,l)=>{n.onChange(l),g()},selections:n.value,variant:D.single,children:b})})}),e(p,{label:t("evictionMinute"),labelIcon:e(f,{helpText:t("evictionMinuteHelp"),fieldLabelId:"evictionMinute"}),isRequired:!0,fieldId:"kc-eviction-minute",children:e(h,{name:"config.evictionMinute",defaultValue:["0"],control:a.control,render:({field:n})=>e(T,{toggleId:"kc-eviction-minute",onToggle:C,isOpen:x,onSelect:(o,l)=>{n.onChange(l),C()},selections:n.value,variant:D.single,children:E})})})]}):null,V(u,["MAX_LIFESPAN"])?e(p,{label:t("maxLifespan"),labelIcon:e(f,{helpText:t("maxLifespanHelp"),fieldLabelId:"maxLifespan"}),fieldId:"kc-max-lifespan",children:e(h,{name:"config.maxLifespan[0]",defaultValue:0,control:a.control,render:({field:n})=>{const l=F=>n.onChange(Math.max(F,0));return e(G,{id:"kc-max-lifespan","data-testid":"kerberos-cache-lifespan",value:n.value,min:0,unit:t("ms"),type:"text",onPlus:()=>n.onChange(Number(n.value)+1),onMinus:()=>n.onChange(Number(n.value)-1),onChange:F=>{const P=Number(F.currentTarget.value);l(isNaN(P)?0:P)}})}})}):null]})},ce=({form:a,showSectionHeading:t=!1,showSectionDescription:c=!1,unWrap:d=!1})=>{const{t:r}=S();return s(y,{children:[t&&e(Z,{title:r("cacheSettings"),description:r("cacheSettingsDescription"),showDescription:c}),d?e(k,{form:a}):e(X,{role:"manage-realm",isHorizontal:!0,children:e(k,{form:a})})]})};export{oe as H,ce as S,Z as W};
//# sourceMappingURL=SettingsCache-yRExyUF5.js.map
