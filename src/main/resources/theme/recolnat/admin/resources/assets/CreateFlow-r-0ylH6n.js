import{jsx as e,jsxs as c,Fragment as h}from"react/jsx-runtime";import{u as f,a as g,F,i as v,C as S,S as b,b as y,c as T,d as C,e as A,f as I,g as x,P as L,h as V,B as p,L as H,t as P,j,A as u,k}from"./index-sihFV1NS.js";import{F as B}from"./FormAccess-EK-4wbwg.js";import{V as N}from"./ViewHeader-xo54NRb6.js";import{useState as O}from"react";import{N as z}from"./NameDescription-OqiBXUTh.js";import{A as E}from"./Form-bfj-xQZn.js";import"react-dom";import"./copy-icon-WaWzxYgU.js";import"./ToolbarContent-46I9Yg7h.js";import"./KeycloakTextArea-NBwG1p2x.js";import"./KeycloakTextInput--S1SG2UN.js";const d=["basic-flow","client-flow"],G=()=>{const{t}=f(),{control:s}=g(),[n,r]=O(!1);return e(F,{label:t("flowType"),labelIcon:e(v,{helpText:t("topLevelFlowTypeHelp"),fieldLabelId:"flowType"}),fieldId:"flowType",children:e(S,{name:"providerId",defaultValue:d[0],control:s,render:({field:a})=>e(b,{toggleId:"flowType",onToggle:r,onSelect:(o,m)=>{a.onChange(m.toString()),r(!1)},selections:t(`top-level-flow-type.${a.value}`),variant:y.single,"aria-label":t("flowType"),isOpen:n,children:d.map(o=>e(T,{selected:o===a.value,value:o,children:t(`top-level-flow-type.${o}`)},o))})})})};function X(){const{t}=f(),s=C(),{realm:n}=A(),{addAlert:r}=I(),a=x(),{handleSubmit:o}=a;return c(h,{children:[e(N,{titleKey:"createFlow",subKey:"authenticationCreateFlowHelp"}),e(L,{variant:"light",children:e(V,{...a,children:c(B,{isHorizontal:!0,role:"manage-authorization",onSubmit:o(async i=>{const w={...i,builtIn:!1,topLevel:!0};try{const{id:l}=await j.authenticationManagement.createFlow(w);r(t("flowCreatedSuccess"),u.success),s(k({realm:n,id:l,usedBy:"notInUse"}))}catch(l){r(t("flowCreateError",{error:l.response?.data?.errorMessage||l}),u.danger)}}),children:[e(z,{}),e(G,{}),c(E,{children:[e(p,{"data-testid":"create",type:"submit",children:t("create")}),e(p,{"data-testid":"cancel",variant:"link",component:i=>e(H,{...i,to:P({realm:n})}),children:t("cancel")})]})]})})})]})}export{X as default};
//# sourceMappingURL=CreateFlow-r-0ylH6n.js.map
