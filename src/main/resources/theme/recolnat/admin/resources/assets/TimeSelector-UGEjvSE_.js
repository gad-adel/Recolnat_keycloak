import{jsxs as U,jsx as a}from"react/jsx-runtime";import{useMemo as y,useState as p,useEffect as V}from"react";import{u as $,a1 as j,a2 as g,aM as F,S as k,b as w,c as E}from"./index-sihFV1NS.js";const s=[{unit:"second",label:"times.seconds",multiplier:1},{unit:"minute",label:"times.minutes",multiplier:60},{unit:"hour",label:"times.hours",multiplier:3600},{unit:"day",label:"times.days",multiplier:86400}],x=(t=0)=>s.reduce((i,l)=>t%l.multiplier===0&&i.multiplier<l.multiplier?l:i,s[0]),_=(t,i)=>{const l=x(t);return new Intl.NumberFormat(i,{style:"unit",unit:l.unit,unitDisplay:"long"}).format(t/l.multiplier)},q=({value:t,units:i=["second","minute","hour","day"],onChange:l,className:r,min:I,menuAppendTo:M,...d})=>{const{t:f}=$(),o=y(()=>s.find(e=>e.unit===i[0])?.multiplier,[i]),[b,m]=p(""),[u,c]=p(o),[h,S]=p(!1),D=y(()=>{const e=i.map(n=>s.find(O=>O.unit===n));return!e.every(n=>n.multiplier===u)&&e[0]!==s[0]&&e.unshift(s[0]),e},[i,u]);V(()=>{const e=x(t).multiplier;t?(c(e),m(t/e)):(m(t||""),c(o))},[t,o]);const T=(e,n=u)=>{e!==""?(l?.(e*(n||1)),m(e)):l?.("")};return U(j,{hasGutter:!0,className:r,children:[a(g,{children:a(F,{...d,type:"number","aria-label":"kc-time",min:I||0,value:b,className:`${r}-input`,onChange:e=>{T(e===""?e:parseInt(e))}})}),a(g,{id:`${r}-select-menu`,children:a(k,{variant:w.single,"aria-label":f("unitLabel"),className:`${r}-select`,onSelect:(e,n)=>{c(n),T(b,n),S(!1)},menuAppendTo:M,selections:[u],onToggle:()=>{S(!h)},isOpen:h,isDisabled:d.isDisabled,children:D.map(e=>a(E,{id:e.label,value:e.multiplier,children:f(e.label)},e.label))})})]})};export{q as T,_ as t};
//# sourceMappingURL=TimeSelector-UGEjvSE_.js.map
