import{jsxs as e,Fragment as h,jsx as t}from"react/jsx-runtime";import{useMemo as I}from"react";import{u as b,g as S,a4 as k,f as A,d as F,e as D,aF as j,P as x,h as C,B as c,L as G,bS as T,j as V,A as w,bT as B}from"./index-sihFV1NS.js";import{D as E}from"./DynamicComponents-f6aNOnzT.js";import{F as H}from"./FormAccess-EK-4wbwg.js";import{V as L}from"./ViewHeader-xo54NRb6.js";import{u as z}from"./useParams-OD1jI_R2.js";import{G as K}from"./GeneralSettings-nV2z-aDo.js";import{A as M}from"./Form-bfj-xQZn.js";import"react-dom";import"./ClientSelect-sh5SEoBO.js";import"./FileUpload-LIezXv7x.js";import"./CodeEditor-7uqvO0EK.js";import"./copy-icon-WaWzxYgU.js";import"./EmptyStateBody-jnnI7hpP.js";import"./EmptyStateSecondaryActions-G5doWCZ5.js";import"./GroupPickerDialog-gC2-xBPw.js";import"./PaginatingTableToolbar--Dt3wwL6.js";import"./TableToolbar-vuixsfwd.js";import"./ToolbarContent-46I9Yg7h.js";import"./useToggle-mZS4AEtR.js";import"./KeycloakTextInput--S1SG2UN.js";import"./Modal-uOAPm2rX.js";import"./ConfirmDialog-WMVurgkl.js";import"./DataListItemRow-te2VcAoi.js";import"./data-list-CDN1kyj9.js";import"./grip-vertical-icon-accuSWkz.js";import"./_baseRest-lI6NnEVt.js";import"./ActionListItem-1jrwMZdM.js";import"./Flex-W2FoLD7u.js";import"./FlexItem-Mxf6oLng.js";import"./MultiLineInput-MBnUzZD_.js";import"./PasswordInput-P6txGPqu.js";import"./AddRoleMappingModal-uxjjMt5W.js";import"./useLocaleSort-K-jL4v2R.js";import"./KeycloakDataTable-Q3kZYP9q.js";import"./Td-uwYquKT4.js";import"./resource-BRtaBrSc.js";import"./filter-icon-0B3gA_nj.js";import"./KeycloakTextArea-NBwG1p2x.js";import"./DisplayOrder-DqQik7ga.js";import"./ClientIdSecret-xi11Xph8.js";function Cr(){const{t:i}=b(),{providerId:r}=z(),s=S(),m=k(),n=I(()=>{const o=["org.keycloak.broker.social.SocialIdentityProvider","org.keycloak.broker.provider.IdentityProvider"];for(const a of o){const d=m.componentTypes?.[a]?.find(({id:g})=>g===r);if(d)return d}},[m,r]),{handleSubmit:l,formState:{isDirty:u}}=s,{addAlert:f,addError:v}=A(),y=F(),{realm:p}=D(),P=async o=>{try{await V.identityProviders.create({...o,providerId:r,alias:r}),f(i("createIdentityProviderSuccess"),w.success),y(B({realm:p,providerId:r,alias:r,tab:"settings"}))}catch(a){v("createError",a)}};return e(h,{children:[t(L,{titleKey:i("addIdentityProvider",{provider:j(r)})}),t(x,{variant:"light",children:e(H,{role:"manage-identity-providers",isHorizontal:!0,onSubmit:l(P),children:[e(C,{...s,children:[t(K,{id:r}),n&&t(E,{stringify:!0,properties:n.properties})]}),e(M,{children:[t(c,{isDisabled:!u,variant:"primary",type:"submit","data-testid":"createProvider",children:i("add")}),t(c,{variant:"link","data-testid":"cancel",component:o=>t(G,{...o,to:T({realm:p})}),children:i("cancel")})]})]})})]})}export{Cr as default};
//# sourceMappingURL=AddIdentityProvider-78MKYppB.js.map
