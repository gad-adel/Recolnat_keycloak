import{jsxs as o,Fragment as C,jsx as e}from"react/jsx-runtime";import{useState as w}from"react";import{u as k,d as y,cp as x,dy as A,f as S,g as I,P as T,F as i,C as V,Q as q,B as m,G as E,H as K,j,bz as G}from"./index-sihFV1NS.js";import{F as H}from"./FormAccess-EK-4wbwg.js";import{J as N}from"./JsonFileUpload-vH-C_c0p.js";import{K as O}from"./KeycloakTextInput--S1SG2UN.js";import{V as z}from"./ViewHeader-xo54NRb6.js";import{A as B}from"./Form-bfj-xQZn.js";import"react-dom";import"./copy-icon-WaWzxYgU.js";import"./FileUploadForm-NPdolxQM.js";import"./FileUpload-LIezXv7x.js";import"./CodeEditor-7uqvO0EK.js";import"./EmptyStateBody-jnnI7hpP.js";import"./EmptyStateSecondaryActions-G5doWCZ5.js";import"./Modal-uOAPm2rX.js";import"./ToolbarContent-46I9Yg7h.js";function oe(){const{t:a}=k(),s=y(),{refresh:n,whoAmI:d}=x(),{refresh:c}=A(),{addAlert:u,addError:h}=S(),[p,f]=w(),{register:b,handleSubmit:v,control:g,setValue:F,formState:{errors:l}}=I({mode:"onChange"}),R=r=>{const t={id:"",realm:"",enabled:!0};E(r||t,F),f(r||t)};return o(C,{children:[e(z,{titleKey:"createRealm",subKey:"realmExplain"}),e(T,{variant:"light",children:o(H,{isHorizontal:!0,onSubmit:v(async r=>{try{await j.realms.create({...p,...K(r)}),u(a("saveRealmSuccess")),n(),await c(),s(G({realm:r.realm}))}catch(t){h("saveRealmError",t)}}),role:"view-realm",isReadOnly:!d.canCreateRealm(),children:[e(N,{id:"kc-realm-filename",allowEditingUploadedText:!0,onChange:R}),e(i,{label:a("realmNameField"),isRequired:!0,fieldId:"kc-realm-name",validated:l.realm?"error":"default",helperTextInvalid:l.realm?.message,children:e(O,{isRequired:!0,id:"kc-realm-name",validated:l.realm?"error":"default",...b("realm",{required:{value:!0,message:a("required")}})})}),e(i,{label:a("enabled"),fieldId:"kc-realm-enabled-switch",children:e(V,{name:"enabled",defaultValue:!0,control:g,render:({field:r})=>e(q,{id:"kc-realm-enabled-switch",name:"enabled",label:a("on"),labelOff:a("off"),isChecked:r.value,onChange:r.onChange,"aria-label":a("enabled")})})}),o(B,{children:[e(m,{variant:"primary",type:"submit",children:a("create")}),e(m,{variant:"link",onClick:()=>s(-1),children:a("cancel")})]})]})})]})}export{oe as default};
//# sourceMappingURL=NewRealmForm-cz7zyO88.js.map
